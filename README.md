# VacationManager v7.2.0

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤—ñ–¥–ø—É—Å—Ç–∫–∞–º–∏ —Ç–∞ —Ç–∞–±–µ–ª–µ–º –æ–±–ª—ñ–∫—É —Ä–æ–±–æ—á–æ–≥–æ —á–∞—Å—É –¥–ª—è —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å—å–∫–æ—ó –∫–∞—Ñ–µ–¥—Ä–∏.

## –í–µ—Ä—Å—ñ—è Latest (v7.2.0) - –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∞—Ä—Ö—ñ–≤–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ StaffPosition enum

### –ü—Ä–æ–µ–∫—Ç

**VacationManager** ‚Äî –≥—ñ–±—Ä–∏–¥–Ω–∞ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞ (Desktop + Web) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –∫–∞–¥—Ä–æ–≤–æ–≥–æ –¥—ñ–ª–æ–≤–æ–¥—Å—Ç–≤–∞ –∫–∞—Ñ–µ–¥—Ä–∏ —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç—É.

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º –∫–∞—Ñ–µ–¥—Ä–∏ (–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∫—ñ–ª—å–∫–æ—Ö –ø–æ–∑–∏—Ü—ñ–π –Ω–∞ –æ–¥–Ω–æ–≥–æ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞)
- –†—ñ—á–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–ø—É—Å—Ç–æ–∫ –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è–º
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞—è–≤ –∑ WYSIWYG-—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º —Ç–∞ live preview
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ—Ä—Ñ–æ–ª–æ–≥—ñ—î—é (WeasyPrint + Jinja2)
- **–¢–∞–±–µ–ª—å –æ–±–ª—ñ–∫—É —Ä–æ–±–æ—á–æ–≥–æ —á–∞—Å—É** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞–±–µ–ª—è –∑ —É—Å—ñ–º–∞ –∫–æ–¥–∞–º–∏ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ
- **Web UI (React)** ‚Äî —Å—É—á–∞—Å–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ —Ç–∞ HR
- **Web portal** –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω—ñ–≤ –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- WebSocket —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ Desktop —Ç–∞ Web
- **–ü–æ–≤–Ω–∏–π workflow –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**: –∑–∞—è–≤–Ω–∏–∫ ‚Üí –¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å—å–∫–∞ ‚Üí –∑–∞–≤—ñ–¥—É–≤–∞—á ‚Üí –Ω–∞–∫–∞–∑ ‚Üí —Ä–µ–∫—Ç–æ—Ä
- **–ü–Ü–ë —É –¥–∞–≤–∞–ª—å–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–∞—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É** ‚Äî –≤—ñ–¥–º—ñ—Ç–∫–∏ –ø—Ä–æ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—é—Ç—å—Å—è –ª–∏—à–µ –Ω–∞ –ø–µ—Ä—ñ–æ–¥ –¥—ñ—ó –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É/–∑–∞—è–≤–∏/–∫–æ–Ω–∫—É—Ä—Å—É

### –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Backend**: Python 3.10+, FastAPI, SQLAlchemy 2.0, Alembic
- **Desktop**: PyQt6, PyQt6-WebEngine
- **Database**: SQLite
- **Document Generation**: WeasyPrint (HTML to PDF), Jinja2 templates
- **Grammar**: pymorphy3 (Ukrainian morphology)
- **Logging**: structlog

---

## –û—Å—Ç–∞–Ω–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (—Å—ñ—á–µ–Ω—å 2026)

### Major Changes

#### 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω—ñ–≤ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å–∫–∞–Ω–µ—Ä–∏ –≤–∂–µ –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–æ–º —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ:

- **ScanUploadDialog** ‚Äî –¥—ñ–∞–ª–æ–≥ –¥–ª—è –≤–∏–±–æ—Ä—É —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞, –¥–∞—Ç —Ç–∞ —Å–∫–∞–Ω—É
- –ö–Ω–æ–ø–∫–∞ "üìé –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∫–∞–Ω" –≤ –∫–∞—Ä—Ç—Ü—ñ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞
- –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞–ø–∏—Å Document –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º SIGNED
- –°–∫–∞–Ω –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ `desktop/documents/{doc_id}/scans/`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è –≤—ñ–¥–º—ñ—Ç–∫–∏ –¥–æ —Ç–∞–±–µ–ª—è –¥–ª—è –≤—ñ–¥–ø—É—Å–∫
- **–°—Ç–∞—Ç—É—Å "–ù–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ"** ‚Äî –¥–ª—è –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –±–µ–∑ —Å–∫–∞–Ω—É (—á–µ—Ä–≤–æ–Ω–∏–π —Ñ–æ–Ω)

#### 2. –î–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

**–ù–æ–≤—ñ —Ç–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:**
- `term_extension` ‚Äî –±–∞–∑–æ–≤–µ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- `term_extension_contract` ‚Äî –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
- `term_extension_competition` ‚Äî –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑–∞ –∫–æ–Ω–∫—É—Ä—Å–æ–º
- `term_extension_pdf` ‚Äî –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Å—É–º—ñ—Å–Ω–∏—Ü—Ç–≤–∞ (PDF)

**–ü–æ–ª—è –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è:**
- `extension_start_date` ‚Äî –¥–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- `old_contract_end_date` ‚Äî –¥–∞—Ç–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

**–õ–æ–≥—ñ–∫–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è:**
- –î–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä—é—é—Ç—å –≤—ñ–¥–º—ñ—Ç–∫—É –∑ –∫–æ–¥–æ–º "–†" (—Ä–æ–±–æ—á—ñ –¥–Ω—ñ)
- –ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—ñ—Å–ª—è –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è —Ä–µ–∫—Ç–æ—Ä–æ–º

**–®–∞–±–ª–æ–Ω–∏:**
- `term_extension_contract.html` ‚Äî –∑ –ø–æ–ª—è–º–∏ —Å—Ç–∞–≤–∫–∏, –∫–∞—Ñ–µ–¥—Ä–∏, –¥–∞—Ç
- `term_extension_competition.html` ‚Äî –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—è
- `term_extension_pdf.html` ‚Äî –¥–ª—è —Å—É–º—ñ—Å–Ω–∏–∫—ñ–≤

#### 3. –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–∞—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
–í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä—ñ–æ–¥—É –¥—ñ—ó –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –≤—ñ–¥–º—ñ—Ç–æ–∫:

- **AttendanceConflictError** ‚Äî –Ω–æ–≤–∏–π —Ç–∏–ø –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –¥–∞—Ç
- **check_conflicts()** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—ñ–≤ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ _on_add_absence() —Ç–∞ _on_edit_absence()
- –î–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –æ—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–∏ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç/–∫–æ–Ω–∫—É—Ä—Å/–∑–∞—è–≤–∞)
- –í—ñ–¥–º—ñ—Ç–∫–∏ –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∑–∞–∫—Ä–µ—Å–ª–µ–Ω–∏–º–∏ –≤ —Ç–∞–±–µ–ª—ñ

#### 2. –ü–Ü–ë —É –¥–∞–≤–∞–ª—å–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É
–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–≤–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥–º—ñ–Ω–∫–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:

- **pib_dav** ‚Äî –Ω–æ–≤–µ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—ñ Staff
- **GrammarService.to_dative()** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞–≤–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥–º—ñ–Ω–∫–∞
- UI –≤ –∫–∞—Ä—Ç—Ü—ñ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞ –∑ –∫–Ω–æ–ø–∫–∞–º–∏ "–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏" —Ç–∞ "–ó–±–µ—Ä–µ–≥—Ç–∏"
- –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

#### 3. –¢–∞–±–µ–ª—å –æ–±–ª—ñ–∫—É —Ä–æ–±–æ—á–æ–≥–æ —á–∞—Å—É (TabelService)
–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞–±–µ–ª—è –∑–≥—ñ–¥–Ω–æ –∑ –Ω–∞–∫–∞–∑–æ–º –ú—ñ–Ω–ø—Ä–∞—Ü—ñ ‚Ññ55:

**`tabel_service.py`** (30KB) ‚Äî —Å–µ—Ä–≤—ñ—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞–±–µ–ª—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ä–æ–±–æ—á–∏—Ö –¥–Ω—ñ–≤ —Ç–∞ –≥–æ–¥–∏–Ω –∑–∞ –º—ñ—Å—è—Ü—å
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö –ª—ñ—Ç–µ—Ä–Ω–∏—Ö –∫–æ–¥—ñ–≤ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ (–†, –í, –í–î, –¢–ù, —Ç–æ—â–æ)
- –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—ñ–¥—Å—É–º–∫—ñ–≤ –ø–æ –ø—ñ–≤–º—ñ—Å—è—Ü—è—Ö —Ç–∞ –∑–∞ –º—ñ—Å—è—Ü—å
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –Ω–∞–¥—É—Ä–æ—á–Ω–∏—Ö –≥–æ–¥–∏–Ω (–ù–£), –Ω—ñ—á–Ω–∏—Ö (–†–ù), –≤–µ—á—ñ—Ä–Ω—ñ—Ö (–í–ß), –≤–∏—Ö—ñ–¥–Ω–∏—Ö (–†–í)
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è HTML –∑ Jinja2 —à–∞–±–ª–æ–Ω–æ–º
- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è (–∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ)
- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ñ –º–µ–∂—ñ** ‚Äî –¥–Ω—ñ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ç–∞ –ø—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:
  - –í—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–º–∏ –∑ —Å—É—Ü—ñ–ª—å–Ω–æ—é –ª—ñ–Ω—ñ—î—é
  - –ó'—î–¥–Ω–∞–Ω–Ω—è –ª—ñ–Ω—ñ–π –º—ñ–∂ –∫–æ–º—ñ—Ä–∫–∞–º–∏ —Ç–∞ –º—ñ–∂ —Ä—è–¥–∫–∞–º–∏
  - –í–∏—Ö—ñ–¥–Ω—ñ –¥–Ω—ñ –ù–ï –æ—Ç—Ä–∏–º—É—é—Ç—å –ª—ñ–Ω—ñ—é (–ø–æ—Ä–æ–∂–Ω—ñ —è–∫ –∑–∞–∑–≤–∏—á–∞–π)
- **–î–µ–∞–∫—Ç–∏–≤–æ–≤–∞–Ω—ñ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏** ‚Äî –≤–∏–∫–ª—é—á–∞—é—Ç—å—Å—è –∑ —Ç–∞–±–µ–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è
- –ü—ñ–¥—Å—É–º–∫–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç–µ–π –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏:
  - –í—ñ–¥–ø—É—Å—Ç–∫–∏ 8-10 –¥–Ω—ñ–≤ (–≤–∞–∫_8_10)
  - –í—ñ–¥–ø—É—Å—Ç–∫–∏ 11-15 –¥–Ω—ñ–≤ (–≤–∞–∫_11_15)
  - –í—ñ–¥–ø—É—Å—Ç–∫–∏ 18 –¥–Ω—ñ–≤ (–≤–∞–∫_18)
  - –í—ñ–¥–ø—É—Å—Ç–∫–∏ 19 –¥–Ω—ñ–≤ (–≤–∞–∫_19)
  - –í—ñ–¥—Ä—è–¥–∂–µ–Ω–Ω—è, –Ω–µ–ø–æ–≤–Ω–∏–π –¥–µ–Ω—å, —Ç–æ—â–æ

**`attendance.py`** ‚Äî –º–æ–¥–µ–ª—å –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ:
- –ü–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–¥—ñ–≤ –∑–≥—ñ–¥–Ω–æ –∑ –Ω–∞–∫–∞–∑–æ–º –ú—ñ–Ω–ø—Ä–∞—Ü—ñ ‚Ññ55 (30+ –∫–æ–¥—ñ–≤)
- –õ—ñ—Ç–µ—Ä–Ω–∏–π –∫–æ–¥ ‚Üí —á–∏—Å–ª–æ–≤–∏–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –† ‚Üí 01)
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤ –¥–∞—Ç (`date_end`)
- Properties –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—É: `is_work_day`, `is_vacation`, `is_sick_leave`, —Ç–æ—â–æ

#### 2. Attendance Tracking (AttendanceService)
**`attendance_service.py`** (8KB) ‚Äî CRUD –¥–ª—è –∑–∞–ø–∏—Å—ñ–≤ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ:
- `create_attendance()` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å
- `create_attendance_range()` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
- `get_staff_attendance()` ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞ –º—ñ—Å—è—Ü—å/—Ä—ñ–∫
- `update_attendance()`, `delete_attendance()`, `delete_attendance_range()`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—ñ

#### 3. Staff History Tracking
**`staff_history.py`** ‚Äî –º–æ–¥–µ–ª—å —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤:
- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –∑–º—ñ–Ω (CREATE, UPDATE, DEACTIVATE, RESTORE)
- JSON –∑—ñ —Å—Ç–∞—Ä–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ (—Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ –ø–æ–ª—è)
- `changed_by` ‚Äî —Ö—Ç–æ –≤–Ω—ñ—Å –∑–º—ñ–Ω–∏
- `comment` ‚Äî –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∑–º—ñ–Ω–∏

#### 4. Shared Absence Types
**`absence_types.py`** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–∏–ø–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç–µ–π –¥–ª—è UI:
- –ì—Ä—É–ø–∏ —Ç–∏–ø—ñ–≤ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏
- –ú–∞–ø–ø—ñ–Ω–≥ –Ω–∞–∑–≤ ‚Üí –∫–æ–¥ (CODE_TO_ABSENCE_NAME)
- –ö–æ–¥–∏ —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å –≤–∫–∞–∑–∞–Ω–Ω—è –≥–æ–¥–∏–Ω (CODES_REQUIRING_HOURS)

#### 5. WeasyPrint –∑–∞–º—ñ—Å—Ç—å docxtpl
- HTML ‚Üí PDF –∑–∞–º—ñ—Å—Ç—å Word ‚Üí PDF
- Jinja2 —à–∞–±–ª–æ–Ω–∏ –≤ `desktop/templates/tabel/`
- –ö—Ä–∞—â–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ —Ç–∞ —à—Ä–∏—Ñ—Ç—ñ–≤

#### 6. –í–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–∏–π Workflow
–ü–æ–≤–Ω–∏–π –ª–∞–Ω—Ü—é–∂–æ–∫ –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è:
1. **Draft** ‚Äî —á–µ—Ä–Ω–µ—Ç–∫–∞ –∑–∞—è–≤–∫–∏
2. **On Signature** ‚Äî –Ω–∞ –ø—ñ–¥–ø–∏—Å—ñ (–¥–æ 3 –≤—ñ–¥–ø—É—Å—Ç–æ–∫, 1 –∫–æ–Ω—Ç—Ä–∞–∫—Ç)
3. **Signed** ‚Äî –ø—ñ–¥–ø–∏—Å–∞–Ω–æ –≤—Å—ñ–º–∞
4. **Processed** ‚Äî –æ–±—Ä–æ–±–ª–µ–Ω–æ (–¥–Ω—ñ —Å–ø–∏—Å–∞–Ω–æ, –¥–æ–¥–∞–Ω–æ –¥–æ —Ç–∞–±–µ–ª—è)

#### 7. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è (structlog)
- JSON –∞–±–æ –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç
- –†—ñ–≤–Ω—ñ: DEBUG, INFO, WARNING, ERROR, CRITICAL
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –∫—Ä–∞—â–æ—ó –¥–µ–±–∞–≥-—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó

#### 8. –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ—Ä—Ñ–æ–ª–æ–≥—ñ—è
**`grammar_service.py`** ‚Äî —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –º–æ—Ä—Ñ–æ–ª–æ–≥—ñ—ó:
- **to_dative()** ‚Äî –¥–∞–≤–∞–ª—å–Ω–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫ –ü–Ü–ë (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤)
- to_genitive() ‚Äî —Ä–æ–¥–æ–≤–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫
- to_accusative() ‚Äî –∑–Ω–∞—Ö—ñ–¥–Ω–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫ (–ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ)
- decline_position() ‚Äî –≤—ñ–¥–º—ñ–Ω—é–≤–∞–Ω–Ω—è –ø–æ—Å–∞–¥

#### 9. –ù–æ–≤—ñ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è
**`shared/exceptions.py`**:
- **AttendanceConflictError** ‚Äî –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –¥–∞—Ç —É –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—ñ
- GrammarError ‚Äî –ø–æ–º–∏–ª–∫–∏ –º–æ—Ä—Ñ–æ–ª–æ–≥—ñ—ó

### –û–Ω–æ–≤–ª–µ–Ω—ñ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏

** Ukrainian Attendance Codes (–Ω–∞–∫–∞–∑ –ú—ñ–Ω–ø—Ä–∞—Ü—ñ ‚Ññ55)**
```
# –Ø–≤–∫–∏ –Ω–∞ —Ä–æ–±–æ—Ç—É
–† = "01"  # –ì–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏ –∑–∞ –¥–æ–≥–æ–≤–æ—Ä–æ–º
–†–° = "20" # –ù–µ–ø–æ–≤–Ω–∏–π —Ä–æ–±–æ—á–∏–π –¥–µ–Ω—å
–í–ß = "03" # –í–µ—á—ñ—Ä–Ω—ñ –≥–æ–¥–∏–Ω–∏
–†–ù = "04" # –ù—ñ—á–Ω—ñ –≥–æ–¥–∏–Ω–∏
–ù–£ = "05" # –ù–∞–¥—É—Ä–æ—á–Ω—ñ –≥–æ–¥–∏–Ω–∏
–†–í = "06" # –†–æ–±–æ—Ç–∞ —É –≤–∏—Ö—ñ–¥–Ω—ñ/—Å–≤—è—Ç–∫–æ–≤—ñ

# –í—ñ–¥—Ä—è–¥–∂–µ–Ω–Ω—è
–í–î = "10" # –°–ª—É–∂–±–æ–≤–µ –≤—ñ–¥—Ä—è–¥–∂–µ–Ω–Ω—è

# –í—ñ–¥–ø—É—Å—Ç–∫–∏ –æ–ø–ª–∞—á—É–≤–∞–Ω—ñ
–í = "08"  # –û—Å–Ω–æ–≤–Ω–∞ —â–æ—Ä—ñ—á–Ω–∞
–î = "09"  # –î–æ–¥–∞—Ç–∫–æ–≤–∞ —â–æ—Ä—ñ—á–Ω–∞
–ß = "11"  # –ß–æ—Ä–Ω–æ–±–∏–ª—å—Ü—è–º
–¢–í = "12" # –¢–≤–æ—Ä—á–∞ –≤—ñ–¥–ø—É—Å—Ç–∫–∞
–ù = "13"  # –£ –∑–≤'—è–∑–∫—É –∑ –Ω–∞–≤—á–∞–Ω–Ω—è–º
–î–û = "16" # –ó –¥—ñ—Ç—å–º–∏
–í–ü = "17" # –í–∞–≥—ñ—Ç–Ω—ñ—Å—Ç—å/–¥–æ–≥–ª—è–¥ –¥–æ 3 —Ä–æ–∫—ñ–≤
–î–î = "18" # –î–æ–≥–ª—è–¥ –∑–∞ –¥–∏—Ç–∏–Ω–æ—é –¥–æ 6 —Ä–æ–∫—ñ–≤

# –í—ñ–¥–ø—É—Å—Ç–∫–∏ –±–µ–∑ –∑–∞—Ä–ø–ª–∞—Ç–∏
–ù–ë = "14" # –£ –∑–≤'—è–∑–∫—É –∑ –Ω–∞–≤—á–∞–Ω–Ω—è–º
–î–ë = "15" # –û–±–æ–≤'—è–∑–∫–æ–≤–∞ –±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
–ù–ê = "21" # –ó–∞ –∑–≥–æ–¥–æ—é —Å—Ç–æ—Ä—ñ–Ω
–ë–ó = "22" # –Ü–Ω—à—ñ –±–µ–∑ –∑–∞—Ä–ø–ª–∞—Ç–∏

# –ù–µ—è–≤–∫–∏
–ù–î = "20" # –ù–µ–ø–æ–≤–Ω–∏–π —Ä–æ–±–æ—á–∏–π –¥–µ–Ω—å
–ù–ü = "21" # –¢–∏–º—á–∞—Å–æ–≤–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥
–Ü–ù = "22" # –Ü–Ω—à–∏–π –Ω–µ–≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–∏–π —á–∞—Å
–ü = "23"  # –ü—Ä–æ—Å—Ç–æ—ó
–ü–† = "24" # –ü—Ä–æ–≥—É–ª–∏
–° = "25"  # –°—Ç—Ä–∞–π–∫–∏

# –¢–∏–º—á–∞—Å–æ–≤–∞ –Ω–µ–ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å
–¢–ù = "26" # –û–ø–ª–∞—á—É–≤–∞–Ω–∞
–ù–ù = "27" # –ù–µ–æ–ø–ª–∞—á—É–≤–∞–Ω–∞

# –Ü–Ω—à—ñ –ø—Ä–∏—á–∏–Ω–∏
–ù–ó = "28" # –ù–µ–∑'—è—Å–æ–≤–∞–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏
–Ü–í = "29" # –Ü–Ω—à—ñ –≤–∏–¥–∏ –∑–∞ –∫–æ–ª–¥–æ–≥–æ–≤–æ—Ä–æ–º
–Ü = "30"  # –Ü–Ω—à—ñ –ø—Ä–∏—á–∏–Ω–∏
```

### –ù–æ–≤—ñ –ú–æ–¥–µ–ª—ñ / –û–Ω–æ–≤–ª–µ–Ω—ñ –ú–æ–¥–µ–ª—ñ

```
backend/models/
‚îú‚îÄ‚îÄ attendance.py     # –≤—ñ–¥–º—ñ—Ç–∫–∏ –ø—Ä–æ —è–≤–∫–∏/–Ω–µ—è–≤–∫–∏
‚îú‚îÄ‚îÄ staff.py          # –û–ù–û–í–õ–ï–ù–û: +pib_dav (–¥–∞–≤–∞–ª—å–Ω–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫)
‚îú‚îÄ‚îÄ staff_history.py  # —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤
‚îú‚îÄ‚îÄ document.py       # –û–ù–û–í–õ–ï–ù–û: +extension_start_date, +old_contract_end_date
```

### –ù–æ–≤—ñ –°–µ—Ä–≤—ñ—Å–∏

```
backend/services/
‚îú‚îÄ‚îÄ attendance_service.py  # –ù–û–í–ï - CRUD –¥–ª—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ tabel_service.py       # –ù–û–í–ï - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞–±–µ–ª—è (30KB)
```

### –û–Ω–æ–≤–ª–µ–Ω—ñ Schemas

```
backend/schemas/
‚îú‚îÄ‚îÄ attendance.py    # –ù–û–í–ï - —Å—Ö–µ–º–∏ –¥–ª—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ tabel.py         # –ù–û–í–ï - —Å—Ö–µ–º–∏ –¥–ª—è —Ç–∞–±–µ–ª—è
```

---

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url>
cd VacationManager
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

```bash
copy .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env` –ø—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ.

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ—ó
alembic revision --autogenerate -m "description"

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
alembic upgrade head
```

### –ó–∞–ø—É—Å–∫ Web —Å–µ—Ä–≤–µ—Ä–∞

```bash
python -m backend.main
```

API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://127.0.0.1:8000

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API: http://127.0.0.1:8000/docs
- Upload Portal: http://127.0.0.1:8000/upload-portal

### –ó–∞–ø—É—Å–∫ Desktop –¥–æ–¥–∞—Ç–∫—É

```bash
python -m desktop.main
```

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞–±–µ–ª—è

```python
from backend.services.tabel_service import generate_tabel_html

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è HTML –¥–ª—è —Å—ñ—á–Ω—è 2026
html = generate_tabel_html(month=1, year=2026)

# –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É —Ñ–∞–π–ª
from backend.services.tabel_service import save_tabel_to_file
filepath = save_tabel_to_file(html, month=1, year=2026)
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
pytest

# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç—ñ–≤
pytest tests/unit

# –ó–∞–ø—É—Å–∫ integration —Ç–µ—Å—Ç—ñ–≤
pytest tests/integration

# –ó–∞–ø—É—Å–∫ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º
pytest --cov=backend --cov=desktop
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
VacationManager/
‚îú‚îÄ‚îÄ backend/                # FastAPI backend
‚îÇ   ‚îú‚îÄ‚îÄ core/              # Config, Database, Logging (structlog)
‚îÇ   ‚îú‚îÄ‚îÄ models/            # SQLAlchemy ORM models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ staff.py          # +pib_dav
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedule.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.py  # –ù–û–í–ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ staff_history.py  # –ù–û–í–ï
‚îÇ   ‚îú‚îÄ‚îÄ schemas/           # Pydantic schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedule.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ responses.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ staff.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.py  # –ù–û–í–ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tabel.py       # –ù–û–í–ï
‚îÇ   ‚îú‚îÄ‚îÄ services/          # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ grammar_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bulk_document_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedule_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ staff_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ date_parser.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance_service.py  # –ù–û–í–ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tabel_service.py       # –ù–û–í–ï
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/        # FastAPI endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ documents.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ staff.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schedule.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ upload.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.py  # –ù–û–í–ï
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tabel.py       # –ù–û–í–ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dependencies.py
‚îÇ   ‚îú‚îÄ‚îÄ static/            # CSS, JS –¥–ª—è upload portal
‚îÇ   ‚îî‚îÄ‚îÄ templates/         # HTML templates –¥–ª—è web
‚îú‚îÄ‚îÄ desktop/               # PyQt6 Desktop application
‚îÇ   ‚îú‚îÄ‚îÄ ui/                # UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scan_upload_dialog.py  # –ù–û–í–ï - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ widgets/           # Custom widgets
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status_badge.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ live_preview.py
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # Jinja2 templates –¥–ª—è PDF
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tabel/         # –ù–û–í–ï - —à–∞–±–ª–æ–Ω–∏ —Ç–∞–±–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ documents/     # –ù–û–í–ï - —à–∞–±–ª–æ–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # Utilities
‚îú‚îÄ‚îÄ shared/                # Shared code
‚îÇ   ‚îú‚îÄ‚îÄ enums.py
‚îÇ   ‚îú‚îÄ‚îÄ constants.py
‚îÇ   ‚îú‚îÄ‚îÄ validators.py
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ   ‚îî‚îÄ‚îÄ absence_types.py   # –ù–û–í–ï
‚îú‚îÄ‚îÄ storage/               # Generated documents and scans
‚îÇ   ‚îî‚îÄ‚îÄ tabels/            # –ù–û–í–ï - –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ç–∞–±–µ–ª—ñ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îî‚îÄ‚îÄ integration/
‚îî‚îÄ‚îÄ alembic/               # Database migrations
```

## API Reference

–ë–∞–∑–æ–≤–∏–π URL: `http://127.0.0.1:8000/api`

> **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: –ë—ñ–ª—å—à—ñ—Å—Ç—å –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ –≤–∏–º–∞–≥–∞—é—Ç—å JWT —Ç–æ–∫–µ–Ω —É –∑–∞–≥–æ–ª–æ–≤–∫—É `Authorization: Bearer <token>`. –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/auth/login`.

### Auth (`/auth`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/login` | - | –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| POST | `/logout` | ‚úì | –í–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏ |
| POST | `/refresh` | - | –û–Ω–æ–≤–ª–µ–Ω–Ω—è access token |
| GET | `/me` | ‚úì | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| POST | `/register` | - | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| POST | `/change-password` | ‚úì | –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è |

### Staff (`/staff`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/` | ‚úì | –°–ø–∏—Å–æ–∫ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ (–ø–∞–≥—ñ–Ω–∞—Ü—ñ—è, –ø–æ—à—É–∫) |
| GET | `/{id}` | HR | –î–µ—Ç–∞–ª—ñ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ |
| POST | `/` | Admin | –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ |
| PUT | `/{id}` | HR | –û–Ω–æ–≤–∏—Ç–∏ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ |
| DELETE | `/{id}` | Admin | –í–∏–¥–∞–ª–∏—Ç–∏ (soft delete) |
| GET | `/search` | HR | –ü–æ—à—É–∫ –∑–∞ —ñ–º'—è–º/–ø–æ–∑–∏—Ü—ñ—î—é |
| GET | `/{id}/documents` | ‚úì | –î–æ–∫—É–º–µ–Ω—Ç–∏ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ |
| GET | `/{id}/schedule` | ‚úì | –ì—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–ø—É—Å—Ç–æ–∫ |
| GET | `/{id}/attendance` | ‚úì | –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å |
| GET | `/expiring-contracts` | HR | –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏, —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è |

### Documents (`/documents`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/` | ‚úì | –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (—Ñ—ñ–ª—å—Ç—Ä–∏, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è) |
| GET | `/{id}` | ‚úì | –î–µ—Ç–∞–ª—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
| GET | `/{id}/context` | ‚úì | –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è |
| POST | `/` | ‚úì | –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç |
| POST | `/{id}/upload-scan` | ‚úì | –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∫–∞–Ω |
| POST | `/direct-scan-upload` | ‚úì | –ü—Ä—è–º–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω—É |
| POST | `/preview` | ‚úì | –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ |
| GET | `/types` | - | –¢–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ |
| GET | `/staff/{id}/blocked-days` | ‚úì | –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –¥–Ω—ñ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ |

### Schedule (`/schedule`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/annual` | HR | –†—ñ—á–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–ø—É—Å—Ç–æ–∫ |
| GET | `/{year}` | HR | –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Ä—ñ–∫ |
| POST | `/` | HR | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å –≥—Ä–∞—Ñ—ñ–∫—É |
| PUT | `/{id}` | HR | –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–ø–∏—Å |
| DELETE | `/{id}` | HR | –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å |
| POST | `/auto-distribute` | HR | –ê–≤—Ç–æ—Ä–æ–∑–ø–æ–¥—ñ–ª –≤—ñ–¥–ø—É—Å—Ç–æ–∫ |
| GET | `/stats` | HR | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥—Ä–∞—Ñ—ñ–∫—É |

### Attendance (`/attendance`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/daily` | HR | –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å –∑–∞ –¥–µ–Ω—å |
| POST | `/` | HR | –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å |
| POST | `/correction` | HR | –ó–∞–ø–∏—Ç –Ω–∞ –∫–æ—Ä–µ–∫—Ü—ñ—é |
| POST | `/submit` | HR | –ü–æ–¥–∞—Ç–∏ —Ç–∞–±–µ–ª—å |
| POST | `/tabel/approve` | HR | –ó–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Ç–∞–±–µ–ª—å |
| GET | `/tabel` | HR | –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–∞–±–µ–ª—å –∑–∞ –º—ñ—Å—è—Ü—å |

### Tabel (`/tabel`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/generate` | HR | –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ HTML —Ç–∞–±–µ–ª—è |
| GET | `/preview` | HR | –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ |
| POST | `/archive` | HR | –ó–±–µ—Ä–µ–≥—Ç–∏ –∞—Ä—Ö—ñ–≤ |
| GET | `/archives` | HR | –°–ø–∏—Å–æ–∫ –∞—Ä—Ö—ñ–≤—ñ–≤ |
| GET | `/archives/{filename}` | HR | –î–µ—Ç–∞–ª—ñ –∞—Ä—Ö—ñ–≤—É |
| GET | `/locked-months` | HR | –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –º—ñ—Å—è—Ü—ñ |
| GET | `/corrections` | HR | –ú—ñ—Å—è—Ü—ñ –∑ –∫–æ—Ä–µ–∫—Ü—ñ—è–º–∏ |
| POST | `/approve` | HR | –ü–æ–≥–æ–¥–∏—Ç–∏ —Ç–∞–±–µ–ª—å |
| GET | `/status` | HR | –°—Ç–∞—Ç—É—Å —Ç–∞–±–µ–ª—è |

### Dashboard (`/dashboard`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/stats` | ‚úì | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∏) |

### Settings (`/settings`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/` | ‚úì | –ü–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| PUT | `/` | ‚úì | –û–Ω–æ–≤–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |

### Upload (`/upload`)

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/{document_id}` | - | –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∫–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞ |

### WebSocket (`/ws`)

Real-time —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ Desktop —Ç–∞ Web –¥–æ–¥–∞—Ç–∫–∞–º–∏.

```javascript
const ws = new WebSocket('ws://localhost:8000/ws');
ws.onmessage = (event) => {
  const message = JSON.parse(event.data);
  // message.type: 'document_signed', 'status_changed', 'pong'
};
// Ping/pong –¥–ª—è keepalive
ws.send(JSON.stringify({ type: 'ping' }));
```

## –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±—ñ–≥

### –°—Ç–∞—Ç—É—Å–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

```
Draft ‚Üí On Signature ‚Üí Signed ‚Üí Processed
```

**–°—Ç–∞—Ç—É—Å "–ù–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ":**
- –î–æ–∫—É–º–µ–Ω—Ç –º–∞—î —Å—Ç–∞—Ç—É—Å "–ü—ñ–¥–ø–∏—Å–∞–Ω–æ" –∞–±–æ "–û–±—Ä–æ–±–ª–µ–Ω–æ"
- –ê–ª–µ —Å–∫–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π
- –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —á–µ—Ä–≤–æ–Ω–∏–º –∫–æ–ª—å–æ—Ä–æ–º –≤ —Ç–∞–±–ª–∏—Ü—ñ

### Workflow –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è

1. **–ó–∞—è–≤–Ω–∏–∫** - —Å—Ç–≤–æ—Ä—é—î —Ç–∞ –ø—ñ–¥–ø–∏—Å—É—î –∑–∞—è–≤—É
2. **–î–∏—Å–ø–µ—Ç—á–µ—Ä—Å—å–∫–∞** - –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–∞ –ø–æ–≥–æ–¥–∂—É—î
3. **–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏** - –ø—ñ–¥–ø–∏—Å—É—î
4. **–ù–∞–∫–∞–∑** - —Ä–µ—î—Å—Ç—Ä—É—î –Ω–∞–∫–∞–∑
5. **–†–µ–∫—Ç–æ—Ä** - —Ñ—ñ–Ω–∞–ª—å–Ω–µ –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è
6. **–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è** - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫–∞–Ω—É
7. **–¢–∞–±–µ–ª—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ —Ç–∞–±–µ–ª—è –æ–±–ª—ñ–∫—É

### –õ—ñ—Ç–µ—Ä–Ω—ñ –∫–æ–¥–∏ —Ç–∞–±–µ–ª—è

–ü–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–¥—ñ–≤ –∑–≥—ñ–¥–Ω–æ –∑ –Ω–∞–∫–∞–∑–æ–º –ú—ñ–Ω–ø—Ä–∞—Ü—ñ ‚Ññ55:
- **–†** ‚Äî —Ä–æ–±–æ—á—ñ –¥–Ω—ñ
- **–í** ‚Äî —â–æ—Ä—ñ—á–Ω–∞ –≤—ñ–¥–ø—É—Å—Ç–∫–∞
- **–í–î** ‚Äî –≤—ñ–¥—Ä—è–¥–∂–µ–Ω–Ω—è
- **–¢–ù** ‚Äî —Ç–∏–º—á–∞—Å–æ–≤–∞ –Ω–µ–ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å (–ª—ñ–∫–∞—Ä–Ω—è–Ω–∏–π)
- **–ù–£** ‚Äî –Ω–∞–¥—É—Ä–æ—á–Ω—ñ –≥–æ–¥–∏–Ω–∏
- **–†–ù** ‚Äî –Ω—ñ—á–Ω—ñ –≥–æ–¥–∏–Ω–∏
- **–í–ß** ‚Äî –≤–µ—á—ñ—Ä–Ω—ñ –≥–æ–¥–∏–Ω–∏
- **–†–í** ‚Äî —Ä–æ–±–æ—Ç–∞ —É –≤–∏—Ö—ñ–¥–Ω—ñ
- [—Ç–∞ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö...]

## –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è —Ç–∞–±–ª—ñ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –º—ñ—Å—è—Ü—ñ–≤

–ú—ñ—Å—è—Ü—å M –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±–ª–æ–∫—É—î—Ç—å—Å—è –æ 00:00:00 –ø–µ—Ä—à–æ–≥–æ —á–∏—Å–ª–∞ –º—ñ—Å—è—Ü—è M+1.

```mermaid
flowchart TB
    subgraph Timeline [–ß–∞—Å–æ–≤–∞ —à–∫–∞–ª–∞]
        direction LR
        Jan["–°—ñ—á–µ–Ω—å 2026"]
        Feb["–õ—é—Ç–∏–π 2026"]
        Mar["–ë–µ—Ä–µ–∑–µ–Ω—å 2026"]
    end

    subgraph LockingRules [–ü—Ä–∞–≤–∏–ª–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è]
        direction TB
        R1["–°—ñ—á–µ–Ω—å –±–ª–æ–∫—É—î—Ç—å—Å—è<br/>01.02.2026 00:00:00"]
        R2["–õ—é—Ç–∏–π –±–ª–æ–∫—É—î—Ç—å—Å—è<br/>01.03.2026 00:00:00"]
        R3["–ë–µ—Ä–µ–∑–µ–Ω—å –±–ª–æ–∫—É—î—Ç—å—Å—è<br/>01.04.2026 00:00:00"]
    end

    Jan -->|"01.02.2026 00:00:00"| LockedJan["‚ùå –°—ñ—á–µ–Ω—å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ"]
    Feb -->|"01.03.2026 00:00:00"| LockedFeb["‚ùå –õ—é—Ç–∏–π –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ"]
    Mar -->|"01.04.2026 00:00:00"| LockedMar["‚ùå –ë–µ—Ä–µ–∑–µ–Ω—å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ"]
```

### –õ–æ–≥—ñ–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤

```mermaid
flowchart TD
    A[–î–æ–¥–∞–≤–∞–Ω–Ω—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ] --> B{–î–∞—Ç–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è<br/>–≤ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ–º—É –º—ñ—Å—è—Ü—ñ?}
    B -->|–¢–∞–∫| C[–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è<br/>–¥–ª—è –º—ñ—Å—è—Ü—è –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è]
    B -->|–ù—ñ| D{–ü–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å<br/>–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ?}
    D -->|–¢–∞–∫| E[–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è<br/>–¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è]
    D -->|–ù—ñ| F[–î–æ–¥–∞—Ç–∏ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–∞–±–µ–ª—è]

    C --> G[–ü–æ–∫–∞–∑–∞—Ç–∏ –≤ –∫–æ—Ä–µ–≥—É–≤–∞–ª—å–Ω–æ–º—É<br/>—Ç–∞–±–µ–ª—ñ]
    E --> G
    F --> H[–ü–æ–∫–∞–∑–∞—Ç–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É<br/>—Ç–∞–±–µ–ª—ñ]
```

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏:**
1. –Ø–∫—â–æ –¥–∞—Ç–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è –≤ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ–º—É –º—ñ—Å—è—Ü—ñ ‚Üí –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è —Ç–æ–≥–æ –º—ñ—Å—è—Ü—è
2. –Ø–∫—â–æ –ø–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ ‚Üí –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è
3. –Ü–Ω–∞–∫—à–µ ‚Üí –¥–æ–¥–∞—Ç–∏ –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–∞–±–µ–ª—è

**–ü—Ä–∏–∫–ª–∞–¥:**
- –¢—ñ–≤—Ä—Ü–Ω–Ω –Ü. –õ.: –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∑ 16.12.2025, –≤—ñ–¥–º—ñ—Ç–∫–∞ 15.01.2026
  - –°—ñ—á–µ–Ω—å –ù–ï –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ (–¥–æ 01.02.2026)
  - –í—ñ–¥–º—ñ—Ç–∫–∞ –î–û–î–ê–Ñ–¢–¨–°–Ø –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–∞–±–µ–ª—è –∑–∞ —Å—ñ—á–µ–Ω—å
  - –ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å—ñ—á–Ω–µ–≤–æ–º—É —Ç–∞–±–µ–ª—ñ (–Ω–µ –≤ –≥—Ä—É–¥–Ω–µ–≤–æ–º—É –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—ñ)

### –°—Ö–µ–º–∞ –¥–∞–Ω–∏—Ö

```mermaid
erDiagram
    Staff ||--o{ Attendance : has
    Staff {
        int id PK
        string pib_nom
        date term_start
        date term_end
        float rate
        string position
        boolean is_active
    }

    Attendance ||--|| TabelApproval : "correction for"
    Attendance {
        int id PK
        int staff_id FK
        date date
        date date_end
        string code
        string hours
        string notes
        datetime created_at
    }

    TabelApproval ||--o{ Attendance : tracks
    TabelApproval {
        int id PK
        int month
        int year
        boolean is_correction
        int correction_month
        int correction_year
        int correction_sequence
        boolean is_approved
        datetime generated_at
        datetime approved_at
        string approved_by
    }

    Staff ||--o{ Document : has
    Document {
        int id PK
        int staff_id FK
        string doc_type
        date date_start
        date date_end
        string status
    }
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ—Ä–µ–≥—É–≤–∞–ª—å–Ω–æ–≥–æ —Ç–∞–±–µ–ª—è

**–•—Ç–æ –ø–æ—Ç—Ä–∞–ø–ª—è—î –¥–æ –∫–æ—Ä–µ–≥—É–≤–∞–ª—å–Ω–æ–≥–æ —Ç–∞–±–µ–ª—è:**

1. –ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏ –∑ –≤—ñ–¥–º—ñ—Ç–∫–∞–º–∏ –∑–∞ —Ü–µ–π –º—ñ—Å—è—Ü—å (–ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –º—ñ—Å—è—Ü—å –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ)
2. –ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏, –¥–æ–¥–∞–Ω—ñ –ü–Ü–°–õ–Ø –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –º—ñ—Å—è—Ü—è, –∫–æ–Ω—Ç—Ä–∞–∫—Ç —è–∫–∏—Ö –ü–û–ß–ò–ù–ê–Ñ–¢–¨–°–Ø –≤ —Ü—å–æ–º—É –º—ñ—Å—è—Ü—ñ

**–õ–æ–≥—ñ–∫–∞ –¥–Ω—ñ–≤ —É –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—ñ:**

```mermaid
flowchart TB
    subgraph CorrectionTabel [–ö–æ—Ä–µ–≥—É–≤–∞–ª—å–Ω–∏–π —Ç–∞–±–µ–ª—å]
        direction TB
        Row1["–ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –¥–æ–¥–∞–Ω–∏–π –ø—ñ—Å–ª—è<br/>–±–ª–æ–∫—É–≤–∞–Ω–Ω—è –º—ñ—Å—è—Ü—è"]
    end

    subgraph DayLogic [–õ–æ–≥—ñ–∫–∞ –¥–Ω—ñ–≤ —É –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—ñ]
        direction LR
        D1["1-15 –≥—Ä—É–¥–Ω—è<br/>‚Ä¢ –î–æ –¥–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É: ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ)<br/>‚Ä¢ –í—ñ–¥ –¥–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É: –† (—Ä–æ–±–æ—á—ñ –¥–Ω—ñ)<br/>‚Ä¢ –í–∏—Ö—ñ–¥–Ω—ñ: –ø–æ—Ä–æ–∂–Ω—å–æ"]
        D2["–ö–æ—Ä–µ–∫—Ü—ñ—è<br/>‚Ä¢ –î–Ω—ñ –∑ –≤—ñ–¥–º—ñ—Ç–∫–æ—é: –∫–æ–¥<br/>‚Ä¢ –î–Ω—ñ –±–µ–∑ –≤—ñ–¥–º—ñ—Ç–∫–∏: –†"
    end

    Row1 --> D1
    Row1 --> D2
```

**–ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç –∑ 16 –≥—Ä—É–¥–Ω—è, –¥–æ–¥–∞–Ω–∏–π 15 —Å—ñ—á–Ω—è):**

| –î–Ω—ñ 1-15 | –î–Ω—ñ 16-31 |
|----------|-----------|
| ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ) | –† |
| ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ) | –† |
| ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ) | –í–î (–≤—ñ–¥—Ä—è–¥–∂–µ–Ω–Ω—è) |
| ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ) | –¢–ù (–ª—ñ–∫–∞—Ä–Ω—è–Ω–∏–π) |
| ‚ïê‚ïê‚ïê (–∑–∞–∫—Ä–µ—Å–ª–µ–Ω–æ) | –† |

- –î–Ω—ñ –¥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (1-15): –∑–∞–∫—Ä–µ—Å–ª–µ–Ω—ñ (–ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞ —â–µ –Ω–µ –±—É–ª–æ)
- –î–Ω—ñ –≤—ñ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (16-31): "–†" (—Ä–æ–±–æ—á—ñ –¥–Ω—ñ)
- –í—ñ–¥–º—ñ—Ç–∫–∞ –Ω–∞ 18 –≥—Ä—É–¥–Ω—è: –ø–æ–∫–∞–∑—É—î –∫–æ–¥ "–í–î" –∑–∞–º—ñ—Å—Ç—å "–†"

**–í–∞–∂–ª–∏–≤–æ:** –Ø–∫—â–æ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –±—É–≤ –¥–æ–¥–∞–Ω–∏–π –î–û –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≥—Ä—É–¥–Ω—è (–¥–æ 01.02.2026), –≤—ñ–Ω –±—É–¥–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ç–∞–±–µ–ª—ñ –∑–∞ –≥—Ä—É–¥–µ–Ω—å, –∞ –Ω–µ –≤ –∫–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—ñ.


### UI: –î–∏–Ω–∞–º—ñ—á–Ω—ñ –≤–∫–ª–∞–¥–∫–∏ –∫–æ—Ä–µ–≥—É–≤–∞–Ω—å

```mermaid
flowchart TB
    subgraph TabInterface [–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∞–±—ñ–≤]
        direction LR
        Main["üìã –¢–∞–±–µ–ª—å<br/>–ø–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å"]
        Corr1["–ö–æ—Ä–µ–≥. (—Å—ñ—á–µ–Ω—å)"]
        Corr2["–ö–æ—Ä–µ–≥. (–ª—é—Ç–∏–π)"]
        Corr3["–ö–æ—Ä–µ–≥. (–≥—Ä—É–¥–µ–Ω—å)"]
    end

    subgraph Rules [–ü—Ä–∞–≤–∏–ª–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è]
        R1["–ú–∞–∫—Å–∏–º—É–º 4 –≤–∫–ª–∞–¥–∫–∏"]
        R2["–ù–∞–π–Ω–æ–≤—ñ—à—ñ —Å–ø–æ—á–∞—Ç–∫—É"]
        R3["–¢—ñ–ª—å–∫–∏ –¥–ª—è –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö<br/>–º—ñ—Å—è—Ü—ñ–≤ –∑ –∫–æ—Ä–µ–∫—Ü—ñ—è–º–∏"]
    end

    Main --- Corr1
    Corr1 --- Corr2
    Corr2 --- Corr3
```

## –ö–æ–¥-—Å—Ç–∞–π–ª

- **PEP 8** —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è (black)
- **Google Style** docstrings
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- Type hints –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ
- DRY, SOLID, Clean Architecture

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

¬© 2025-2026 VacationManager v7.0

---

## –í–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è

| –í–µ—Ä—Å—ñ—è | –î–∞—Ç–∞ | –ó–º—ñ–Ω–∏ |
|--------|------|-------|
| v7.0 | –°—ñ—á–µ–Ω—å 2026 | Web UI (React), JWT Auth, REST API, –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π Workflow |
| v6.0 | –°—ñ—á–µ–Ω—å 2026 | –¢–∞–±–µ–ª—å –æ–±–ª—ñ–∫—É, Attendance Tracking, Workflow |
| v5.0 | 2025 | –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å |


